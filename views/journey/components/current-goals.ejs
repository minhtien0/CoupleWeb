<!-- Current Goals -->
<div class="bg-white rounded-2xl p-6 shadow-sm border border-rose-100">
    <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-gray-800">Mục tiêu hiện tại</h2>
        <button onclick="addNewGoal()" class="w-8 h-8 bg-gradient-to-r from-violet-400 to-purple-400 rounded-full flex items-center justify-center hover:shadow-lg transition-all">
            <svg class="w-4 h-4 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
    </div>
    <div class="space-y-4">
        <%if(goals.length > 0) { %>
            <%goals.forEach(goal=> { %>
                <div class="goal-card p-4 bg-gradient-to-r from-emerald-50 to-emerald-100 rounded-xl border border-emerald-200" onclick="openGoalDetail(<%= goal.id %>)">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex-1">
                            <h3 class="font-medium text-gray-800 mb-1">
                                <%= goal.title %>
                            </h3>
                            <p class="text-sm text-gray-600">
                                <%= goal.description %>
                            </p>
                        </div>
                        <span class="text-2xl"><%= goal.icon %></span>
                    </div>

                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-emerald-700"><%= goal.current_value %> / <%= goal.target_value %></span>
                        <span class="text-sm text-gray-500"><%= goal.percent %>%</span>
                    </div>

                    <div class="w-full bg-emerald-200 rounded-full h-2">
                        <div class="bg-emerald-500 h-2 rounded-full transition-all duration-500" style="width: <%= goal.percent %>%"></div>
                    </div>

                    <div class="mt-3 flex items-center justify-between text-xs text-gray-500">
                        <span>Bắt đầu: <%= goal.start %></span>
                        <span>
                            <% if (goal.days_remaining !== null) { %>
                                Còn <%= goal.days_remaining %> ngày
                            <% } else { %>
                                Không thời hạn
                            <% } %>
                        </span>
                    </div>
                </div>
                <% }) %>
                    <%}else{%>
                        <p>Không có mục tiêu nào, vui lòng thêm mục tiêu!.</p>
                        <%}%>
    </div>
</div>